# Transactions
(*transactions*)

## Overview

### Available Operations

* [list](#list) - List transactions
* [create](#create) - Create transaction
* [get](#get) - Get transaction
* [capture](#capture) - Capture transaction
* [void](#void) - Void transaction
* [sync](#sync) - Sync transaction

## list

List all transactions for a specific merchant account sorted by most recently created.

### Example Usage

```python
from gr4vy import Gr4vy
from gr4vy.utils import parse_datetime
import os


with Gr4vy(
    bearer_auth=os.getenv("GR4VY_BEARER_AUTH", ""),
    merchant_account_id="default",
) as g_client:

    res = g_client.transactions.list(cursor="ZXhhbXBsZTE", created_at_lte=parse_datetime("2022-01-01T12:00:00+08:00"), created_at_gte=parse_datetime("2022-01-01T12:00:00+08:00"), updated_at_lte=parse_datetime("2022-01-01T12:00:00+08:00"), updated_at_gte=parse_datetime("2022-01-01T12:00:00+08:00"), search="transaction-12345", buyer_external_identifier="buyer-12345", buyer_id="fe26475d-ec3e-4884-9553-f7356683f7f9", buyer_email_address="john@example.com", buyer_search="John", ip_address="8.214.133.47", status=[
        "authorization_succeeded",
    ], id="7099948d-7286-47e4-aad8-b68f7eb44591", payment_service_transaction_id="tx-12345", external_identifier="transaction-12345", metadata=[
        "{\"first_key\":\"first_value\",\"second_key\":\"second_value\"}",
    ], amount_eq=1299, amount_lte=1299, amount_gte=1299, currency=[
        "USD",
    ], country=[
        "US",
    ], payment_service_id=[
        "fffd152a-9532-4087-9a4f-de58754210f0",
    ], payment_method_id="ef9496d8-53a5-4aad-8ca2-00eb68334389", payment_method_label="1234", payment_method_scheme="[\"visa\"]", payment_method_country="[\"US\"]", payment_method_fingerprint="a50b85c200ee0795d6fd33a5c66f37a4564f554355c5b46a756aac485dd168a4", method=[
        "card",
    ], error_code=[
        "insufficient_funds",
    ], has_refunds=True, pending_review=True, checkout_session_id="4137b1cf-39ac-42a8-bad6-1c680d5dab6b", reconciliation_id="7jZXl4gBUNl0CnaLEnfXbt", has_gift_card_redemptions=True, gift_card_id="356d56e5-fe16-42ae-97ee-8d55d846ae2e", gift_card_last4="7890", has_settlements=True, payment_method_bin="411111", payment_source=[
        "recurring",
    ], is_subsequent_payment=True, merchant_initiated=True, used_3ds=True, merchant_account_id="default")

    while res is not None:
        # Handle items

        res = res.next()

```

### Parameters

| Parameter                                                                                                                                                                                                                                                    | Type                                                                                                                                                                                                                                                         | Required                                                                                                                                                                                                                                                     | Description                                                                                                                                                                                                                                                  | Example                                                                                                                                                                                                                                                      |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `cursor`                                                                                                                                                                                                                                                     | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | A pointer to the page of results to return.                                                                                                                                                                                                                  | ZXhhbXBsZTE                                                                                                                                                                                                                                                  |
| `limit`                                                                                                                                                                                                                                                      | *Optional[int]*                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                           | The maximum number of items that are at returned.                                                                                                                                                                                                            | 20                                                                                                                                                                                                                                                           |
| `created_at_lte`                                                                                                                                                                                                                                             | [date](https://docs.python.org/3/library/datetime.html#date-objects)                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters the results to only transactions created before this ISO date-time string. The time zone must be included. Ensure that the date-time string is URL encoded, e.g. `2022-01-01T12:00:00+08:00` must be encoded as `2022-01-01T12%3A00%3A00%2B08%3A00`. | 2022-01-01T12:00:00+08:00                                                                                                                                                                                                                                    |
| `created_at_gte`                                                                                                                                                                                                                                             | [date](https://docs.python.org/3/library/datetime.html#date-objects)                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters the results to only transactions created after this ISO date-time string. The time zone must be included. Ensure that the date-time string is URL encoded, e.g. `2022-01-01T12:00:00+08:00` must be encoded as `2022-01-01T12%3A00%3A00%2B08%3A00`.  | 2022-01-01T12:00:00+08:00                                                                                                                                                                                                                                    |
| `updated_at_lte`                                                                                                                                                                                                                                             | [date](https://docs.python.org/3/library/datetime.html#date-objects)                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters the results to only transactions updated before this ISO date-time string. The time zone must be included. Ensure that the date-time string is URL encoded, e.g. `2022-01-01T12:00:00+08:00` must be encoded as `2022-01-01T12%3A00%3A00%2B08%3A00`. | 2022-01-01T12:00:00+08:00                                                                                                                                                                                                                                    |
| `updated_at_gte`                                                                                                                                                                                                                                             | [date](https://docs.python.org/3/library/datetime.html#date-objects)                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters the results to only transactions updated after this ISO date-time string. The time zone must be included. Ensure that the date-time string is URL encoded, e.g. `2022-01-01T12:00:00+08:00` must be encoded as `2022-01-01T12%3A00%3A00%2B08%3A00`.  | 2022-01-01T12:00:00+08:00                                                                                                                                                                                                                                    |
| `search`                                                                                                                                                                                                                                                     | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                          | transaction-12345                                                                                                                                                                                                                                            |
| `buyer_external_identifier`                                                                                                                                                                                                                                  | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                          | buyer-12345                                                                                                                                                                                                                                                  |
| `buyer_id`                                                                                                                                                                                                                                                   | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                          | fe26475d-ec3e-4884-9553-f7356683f7f9                                                                                                                                                                                                                         |
| `buyer_email_address`                                                                                                                                                                                                                                        | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                          | john@example.com                                                                                                                                                                                                                                             |
| `buyer_search`                                                                                                                                                                                                                                               | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                          | John                                                                                                                                                                                                                                                         |
| `ip_address`                                                                                                                                                                                                                                                 | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                          | 8.214.133.47                                                                                                                                                                                                                                                 |
| `status`                                                                                                                                                                                                                                                     | List[[models.TransactionStatus](../../models/transactionstatus.md)]                                                                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters the results to only the transactions that have a `status` that matches with any of the provided status values.                                                                                                                                       | authorization_succeeded                                                                                                                                                                                                                                      |
| `id`                                                                                                                                                                                                                                                         | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                          | 7099948d-7286-47e4-aad8-b68f7eb44591                                                                                                                                                                                                                         |
| `payment_service_transaction_id`                                                                                                                                                                                                                             | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                          | tx-12345                                                                                                                                                                                                                                                     |
| `external_identifier`                                                                                                                                                                                                                                        | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                          | transaction-12345                                                                                                                                                                                                                                            |
| `metadata`                                                                                                                                                                                                                                                   | List[*str*]                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions where their `metadata` values contain all of the provided `metadata` keys. The value sent for `metadata` must be formatted as a JSON string, and all keys and values must be strings. This value should also be URL encoded.        | [<br/>{<br/>"first_key": "first_value",<br/>"second_key": "second_value"<br/>}<br/>]                                                                                                                                                                         |
| `amount_eq`                                                                                                                                                                                                                                                  | *OptionalNullable[int]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions that have an `amount` that is equal to the provided `amount_eq` value.                                                                                                                                                              | 1299                                                                                                                                                                                                                                                         |
| `amount_lte`                                                                                                                                                                                                                                                 | *OptionalNullable[int]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions that have an `amount` that is less than or equal to the `amount_lte` value.                                                                                                                                                         | 1299                                                                                                                                                                                                                                                         |
| `amount_gte`                                                                                                                                                                                                                                                 | *OptionalNullable[int]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions that have an `amount` that is greater than or equal to the `amount_gte` value.                                                                                                                                                      | 1299                                                                                                                                                                                                                                                         |
| `currency`                                                                                                                                                                                                                                                   | List[*str*]                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions that have matching `currency` values. The `currency` values provided must be formatted as 3-letter ISO currency code.                                                                                                               | [<br/>"USD"<br/>]                                                                                                                                                                                                                                            |
| `country`                                                                                                                                                                                                                                                    | List[*str*]                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions that have matching `country` values.                                                                                                                                                                                                | [<br/>"US"<br/>]                                                                                                                                                                                                                                             |
| `payment_service_id`                                                                                                                                                                                                                                         | List[*str*]                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions that were processed by the provided `payment_service_id` values.                                                                                                                                                                    | [<br/>"fffd152a-9532-4087-9a4f-de58754210f0"<br/>]                                                                                                                                                                                                           |
| `payment_method_id`                                                                                                                                                                                                                                          | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                          | ef9496d8-53a5-4aad-8ca2-00eb68334389                                                                                                                                                                                                                         |
| `payment_method_label`                                                                                                                                                                                                                                       | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                          | 1234                                                                                                                                                                                                                                                         |
| `payment_method_scheme`                                                                                                                                                                                                                                      | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions that have a payment method with a scheme that matches with the provided value.                                                                                                                                                      | [<br/>"visa"<br/>]                                                                                                                                                                                                                                           |
| `payment_method_country`                                                                                                                                                                                                                                     | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions that have a payment method with a country that matches with the provided value.                                                                                                                                                     | [<br/>"US"<br/>]                                                                                                                                                                                                                                             |
| `payment_method_fingerprint`                                                                                                                                                                                                                                 | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                          | a50b85c200ee0795d6fd33a5c66f37a4564f554355c5b46a756aac485dd168a4                                                                                                                                                                                             |
| `method`                                                                                                                                                                                                                                                     | List[[models.Method](../../models/method.md)]                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions that have matching `method` values.                                                                                                                                                                                                 | card                                                                                                                                                                                                                                                         |
| `error_code`                                                                                                                                                                                                                                                 | List[*str*]                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions where the `error_code` matches one for the provided values.                                                                                                                                                                         | [<br/>"insufficient_funds"<br/>]                                                                                                                                                                                                                             |
| `has_refunds`                                                                                                                                                                                                                                                | *OptionalNullable[bool]*                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions with refunds.                                                                                                                                                                                                                       | true                                                                                                                                                                                                                                                         |
| `pending_review`                                                                                                                                                                                                                                             | *OptionalNullable[bool]*                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions with a pending manual anti-fraud review.                                                                                                                                                                                            | true                                                                                                                                                                                                                                                         |
| `checkout_session_id`                                                                                                                                                                                                                                        | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions where the `checkout_session_id` matches the provided value.                                                                                                                                                                         | 4137b1cf-39ac-42a8-bad6-1c680d5dab6b                                                                                                                                                                                                                         |
| `reconciliation_id`                                                                                                                                                                                                                                          | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions where the `reconciliation_id` matches the provided value.                                                                                                                                                                           | 7jZXl4gBUNl0CnaLEnfXbt                                                                                                                                                                                                                                       |
| `has_gift_card_redemptions`                                                                                                                                                                                                                                  | *OptionalNullable[bool]*                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions with gift card redemptions.                                                                                                                                                                                                         | true                                                                                                                                                                                                                                                         |
| `gift_card_id`                                                                                                                                                                                                                                               | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions where a gift card used has an `id` that matches the provided value.                                                                                                                                                                 | 356d56e5-fe16-42ae-97ee-8d55d846ae2e                                                                                                                                                                                                                         |
| `gift_card_last4`                                                                                                                                                                                                                                            | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions that have at least one gift card redemption where the last 4 digits of its gift card number matches exactly with the provided value.                                                                                                | 7890                                                                                                                                                                                                                                                         |
| `has_settlements`                                                                                                                                                                                                                                            | *OptionalNullable[bool]*                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions that have at least one associated settlement record.                                                                                                                                                                                | true                                                                                                                                                                                                                                                         |
| `payment_method_bin`                                                                                                                                                                                                                                         | *OptionalNullable[str]*                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filter for transactions that have a card with a BIN that matches exactly with the provided value.                                                                                                                                                            | 411111                                                                                                                                                                                                                                                       |
| `payment_source`                                                                                                                                                                                                                                             | List[[models.TransactionPaymentSource](../../models/transactionpaymentsource.md)]                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters the results to only the transactions that have a payment source that matches with any of the provided values.                                                                                                                                        | recurring                                                                                                                                                                                                                                                    |
| `is_subsequent_payment`                                                                                                                                                                                                                                      | *OptionalNullable[bool]*                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions where the `is_subsequent_payment` matches the provided value.                                                                                                                                                                       | true                                                                                                                                                                                                                                                         |
| `merchant_initiated`                                                                                                                                                                                                                                         | *OptionalNullable[bool]*                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions where the `merchant_initiated` matches the provided value.                                                                                                                                                                          | true                                                                                                                                                                                                                                                         |
| `used_3ds`                                                                                                                                                                                                                                                   | *OptionalNullable[bool]*                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                           | Filters for transactions that attempted 3DS authentication or not.                                                                                                                                                                                           | true                                                                                                                                                                                                                                                         |
| `merchant_account_id`                                                                                                                                                                                                                                        | *Optional[str]*                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                           | The ID of the merchant account to use for this request.                                                                                                                                                                                                      | default                                                                                                                                                                                                                                                      |
| `retries`                                                                                                                                                                                                                                                    | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                                                                                                                                             | :heavy_minus_sign:                                                                                                                                                                                                                                           | Configuration to override the default retry behavior of the client.                                                                                                                                                                                          |                                                                                                                                                                                                                                                              |

### Response

**[models.ListTransactionsResponse](../../models/listtransactionsresponse.md)**

### Errors

| Error Type                 | Status Code                | Content Type               |
| -------------------------- | -------------------------- | -------------------------- |
| errors.Error400            | 400                        | application/json           |
| errors.Error401            | 401                        | application/json           |
| errors.Error403            | 403                        | application/json           |
| errors.Error404            | 404                        | application/json           |
| errors.Error405            | 405                        | application/json           |
| errors.Error409            | 409                        | application/json           |
| errors.HTTPValidationError | 422                        | application/json           |
| errors.Error425            | 425                        | application/json           |
| errors.Error429            | 429                        | application/json           |
| errors.Error500            | 500                        | application/json           |
| errors.Error502            | 502                        | application/json           |
| errors.Error504            | 504                        | application/json           |
| errors.APIError            | 4XX, 5XX                   | \*/\*                      |

## create

Create a transaction.

### Example Usage

```python
from datetime import date
from gr4vy import Gr4vy, models
from gr4vy.utils import parse_datetime
import os


with Gr4vy(
    bearer_auth=os.getenv("GR4VY_BEARER_AUTH", ""),
    merchant_account_id="default",
) as g_client:

    res = g_client.transactions.create(amount=1299, currency="EUR", merchant_account_id="default", idempotency_key="request-12345", country="US", payment_method={
        "expiration_date": "12/30",
        "number": "4111111111111111",
        "buyer_external_identifier": "buyer-12345",
        "buyer_id": "fe26475d-ec3e-4884-9553-f7356683f7f9",
        "external_identifier": "payment-method-12345",
        "card_type": "credit",
        "method": "card",
        "security_code": "123",
    }, buyer=models.GuestBuyerInput(
        display_name="John Doe",
        external_identifier="buyer-12345",
        billing_details=models.BillingDetailsInput(
            first_name="John",
            last_name="Doe",
            email_address="john@example.com",
            phone_number="+1234567890",
            address=models.Address(
                city="San Jose",
                country="US",
                postal_code="94560",
                state="California",
                state_code="US-CA",
                house_number_or_name="10",
                line1="Stafford Appartments",
                line2="29th Street",
                organization="Gr4vy",
            ),
            tax_id=models.TaxID(
                value="12345678931",
                kind="br.cnpj",
            ),
        ),
        shipping_details=models.ShippingDetailsCreate(
            first_name="John",
            last_name="Doe",
            email_address="john@example.com",
            phone_number="+1234567890",
            address=models.Address(
                city="San Jose",
                country="US",
                postal_code="94560",
                state="California",
                state_code="US-CA",
                house_number_or_name="10",
                line1="Stafford Appartments",
                line2="29th Street",
                organization="Gr4vy",
            ),
        ),
    ), buyer_id="fe26475d-ec3e-4884-9553-f7356683f7f9", buyer_external_identifier="buyer-12345", gift_cards=[
        {
            "id": "356d56e5-fe16-42ae-97ee-8d55d846ae2e",
            "amount": 1299,
        },
        {
            "id": "356d56e5-fe16-42ae-97ee-8d55d846ae2e",
            "amount": 1299,
        },
        {
            "number": "4123455541234561234",
            "pin": "1234",
            "amount": 1299,
        },
    ], external_identifier="transaction-12345", three_d_secure_data={
        "cavv": "3q2+78r+ur7erb7vyv66vv8=",
        "eci": "05",
        "version": "2.1.0",
        "directory_response": "C",
        "scheme": "visa",
        "authentication_response": "Y",
        "cavv_algorithm": "A",
        "xid": "12345",
    }, metadata={
        "cohort": "cohort-12345",
        "order": "order-12345",
    }, airline={
        "booking_code": "X36Q9C",
        "is_cardholder_traveling": True,
        "issued_address": "123 Broadway, New York",
        "issued_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
        "issuing_carrier_code": "649",
        "issuing_carrier_name": "Air Transat A.T. Inc",
        "issuing_iata_designator": "TS",
        "issuing_icao_code": "TSC",
        "legs": [
            {
                "arrival_airport": "LAX",
                "arrival_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
                "arrival_city": "Los Angeles",
                "arrival_country": "US",
                "carrier_code": "649",
                "carrier_name": "Air Transat A.T. Inc",
                "iata_designator": "TS",
                "icao_code": "TSC",
                "coupon_number": "15885566",
                "departure_airport": "LHR",
                "departure_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
                "departure_city": "London",
                "departure_country": "GB",
                "departure_tax_amount": 1200,
                "fare_amount": 129900,
                "fare_basis_code": "FY",
                "fee_amount": 1200,
                "flight_class": "E",
                "flight_number": "101",
                "route_type": "round_trip",
                "seat_class": "F",
                "stop_over": False,
                "tax_amount": 1200,
            },
            {
                "arrival_airport": "LAX",
                "arrival_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
                "arrival_city": "Los Angeles",
                "arrival_country": "US",
                "carrier_code": "649",
                "carrier_name": "Air Transat A.T. Inc",
                "iata_designator": "TS",
                "icao_code": "TSC",
                "coupon_number": "15885566",
                "departure_airport": "LHR",
                "departure_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
                "departure_city": "London",
                "departure_country": "GB",
                "departure_tax_amount": 1200,
                "fare_amount": 129900,
                "fare_basis_code": "FY",
                "fee_amount": 1200,
                "flight_class": "E",
                "flight_number": "101",
                "route_type": "round_trip",
                "seat_class": "F",
                "stop_over": False,
                "tax_amount": 1200,
            },
            {
                "arrival_airport": "LAX",
                "arrival_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
                "arrival_city": "Los Angeles",
                "arrival_country": "US",
                "carrier_code": "649",
                "carrier_name": "Air Transat A.T. Inc",
                "iata_designator": "TS",
                "icao_code": "TSC",
                "coupon_number": "15885566",
                "departure_airport": "LHR",
                "departure_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
                "departure_city": "London",
                "departure_country": "GB",
                "departure_tax_amount": 1200,
                "fare_amount": 129900,
                "fare_basis_code": "FY",
                "fee_amount": 1200,
                "flight_class": "E",
                "flight_number": "101",
                "route_type": "round_trip",
                "seat_class": "F",
                "stop_over": False,
                "tax_amount": 1200,
            },
        ],
        "passenger_name_record": "JOHN L",
        "passengers": [
            {
                "age_group": "adult",
                "date_of_birth": date.fromisoformat("2013-07-16"),
                "email_address": "john@example.com",
                "first_name": "John",
                "frequent_flyer_number": "15885566",
                "last_name": "Luhn",
                "passport_number": "11117700225",
                "phone_number": "+1234567890",
                "ticket_number": "BA1236699999",
                "title": "Mr.",
                "country_code": "US",
            },
            {
                "age_group": "adult",
                "date_of_birth": date.fromisoformat("2013-07-16"),
                "email_address": "john@example.com",
                "first_name": "John",
                "frequent_flyer_number": "15885566",
                "last_name": "Luhn",
                "passport_number": "11117700225",
                "phone_number": "+1234567890",
                "ticket_number": "BA1236699999",
                "title": "Mr.",
                "country_code": "US",
            },
            {
                "age_group": "adult",
                "date_of_birth": date.fromisoformat("2013-07-16"),
                "email_address": "john@example.com",
                "first_name": "John",
                "frequent_flyer_number": "15885566",
                "last_name": "Luhn",
                "passport_number": "11117700225",
                "phone_number": "+1234567890",
                "ticket_number": "BA1236699999",
                "title": "Mr.",
                "country_code": "US",
            },
        ],
        "reservation_system": "Amadeus",
        "restricted_ticket": False,
        "ticket_delivery_method": "electronic",
        "ticket_number": "123-1234-151555",
        "travel_agency_code": "12345",
        "travel_agency_invoice_number": "EG15555155",
        "travel_agency_name": "ACME Agency",
        "travel_agency_plan_name": "B733",
    }, cart_items=[
        {
            "name": "GoPro HD",
            "quantity": 2,
            "unit_amount": 1299,
            "discount_amount": 0,
            "tax_amount": 0,
            "external_identifier": "goprohd",
            "sku": "GPHD1078",
            "product_url": "https://example.com/catalog/go-pro-hd",
            "image_url": "https://example.com/images/go-pro-hd.jpg",
            "categories": [
                "camera",
                "travel",
                "gear",
            ],
            "product_type": "physical",
            "seller_country": "US",
        },
        {
            "name": "GoPro HD",
            "quantity": 2,
            "unit_amount": 1299,
            "discount_amount": 0,
            "tax_amount": 0,
            "external_identifier": "goprohd",
            "sku": "GPHD1078",
            "product_url": "https://example.com/catalog/go-pro-hd",
            "image_url": "https://example.com/images/go-pro-hd.jpg",
            "categories": [
                "camera",
                "travel",
                "gear",
            ],
            "product_type": "physical",
            "seller_country": "US",
        },
        {
            "name": "GoPro HD",
            "quantity": 2,
            "unit_amount": 1299,
            "discount_amount": 0,
            "tax_amount": 0,
            "external_identifier": "goprohd",
            "sku": "GPHD1078",
            "product_url": "https://example.com/catalog/go-pro-hd",
            "image_url": "https://example.com/images/go-pro-hd.jpg",
            "categories": [
                "camera",
                "travel",
                "gear",
            ],
            "product_type": "physical",
            "seller_country": "US",
        },
    ], statement_descriptor={
        "name": "ACME",
        "description": "ACME San Jose Electronics",
        "city": "San Jose",
        "country": "US",
        "phone_number": "+1234567890",
        "url": "www.example.com",
    }, previous_scheme_transaction_id="123456789012345", browser_info={
        "javascript_enabled": False,
        "java_enabled": False,
        "language": "<value>",
        "color_depth": 242405,
        "screen_height": 557747,
        "screen_width": 288219,
        "time_zone_offset": 538274,
        "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",
        "user_device": "desktop",
        "accept_header": "*/*",
    }, shipping_details_id="bf8c36ad-02d9-4904-b0f9-a230b149e341", anti_fraud_fingerprint="yGeBAFYgFmM=", payment_service_id="fffd152a-9532-4087-9a4f-de58754210f0", recipient={
        "first_name": "",
        "last_name": "",
        "address": {
            "city": "San Jose",
            "country": "US",
            "postal_code": "94560",
            "state": "California",
            "state_code": "US-CA",
            "house_number_or_name": "10",
            "line1": "Stafford Appartments",
            "line2": "29th Street",
            "organization": "Gr4vy",
        },
        "account_number": "act12345",
        "date_of_birth": date.fromisoformat("1995-12-23"),
    })

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `amount`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | *int*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | The monetary amount for this transaction, in the smallest currency unit for the given currency, for example `1299` cents to create an authorization for `$12.99`. If the `intent` is set to `capture`, an amount greater than zero must be supplied. All gift card amounts are subtracted from this amount before the remainder is charged to the provided `payment_method`.                                                                                                                                                                                                                                                                          | 1299                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `currency`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | *str*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | A supported ISO-4217 currency code. For redirect requests, this value must match the one specified for `currency` in `payment_method`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | EUR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `merchant_account_id`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | *Optional[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | The ID of the merchant account to use for this request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | default                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `idempotency_key`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | A unique key that identifies this request. Providing this header will make this an idempotent request. We recommend using V4 UUIDs, or another random string with enough entropy to avoid collisions.                                                                                                                                                                                                                                                                                                                                                                                                                                                 | request-12345                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `country`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | The 2-letter ISO code of the country where the transaction is processed. This is also used to filter the payment services that can process the transaction. If this value is provided for redirect requests and it's not `null`, it must match the one specified for `country` in `payment_method`. Otherwise, the value specified for `country` in `payment_method` will be assumed implicitly.                                                                                                                                                                                                                                                      | US                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `payment_method`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | [OptionalNullable[models.TransactionCreatePaymentMethod]](../../models/transactioncreatepaymentmethod.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | The optional payment method to use for this transaction. This field is required if no `gift_cards` have been added.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `buyer`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | [OptionalNullable[models.GuestBuyerInput]](../../models/guestbuyerinput.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Guest buyer details provided inline rather than creating a buyer resource beforehand and using the `buyer_id` or `buyer_external_identifier` keys. No buyer resource will be created on Gr4vy when used.                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `buyer_id`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | The ID of the buyer to associate this payment method to. If this field is provided then the `buyer_external_identifier` field needs to be unset. If a stored payment method or gift card is provided, then the buyer for that payment method needs to match the buyer for this field.                                                                                                                                                                                                                                                                                                                                                                 | fe26475d-ec3e-4884-9553-f7356683f7f9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `buyer_external_identifier`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | The `external_identifier` of the buyer to associate this payment method to. If this field is provided then the `buyer_id` field needs to be unset. If a stored payment method or gift card is provided, then the buyer for that payment method needs to match the buyer for this field.                                                                                                                                                                                                                                                                                                                                                               | buyer-12345                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `gift_cards`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | List[[models.GiftCardUnion](../../models/giftcardunion.md)]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | The optional gift card(s) to use for this transaction. At least one gift card is required if no other `payment_method` has been added. By default, only a maximum limit of 10 gift cards may be used in a single transaction. Please contact our team to change this limit.                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `external_identifier`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | An external identifier that can be used to match the transaction against your own records.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | transaction-12345                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `intent`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | [Optional[models.TransactionIntent]](../../models/transactionintent.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `store`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | *Optional[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |  Whether or not to also try and store the payment method with us so that it can be used again for future use. This is only supported for payment methods that support this feature. There are also a few restrictions on how the flag may be set:<br/><br/>* The flag has to be set to `true` when the `payment_source` is set to `recurring` or `installment`, and `merchant_initiated` is set to `false`.<br/>* The flag has to be set to `false` (or not set) when using a previously vaulted payment method.                                                                                                                                      | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `three_d_secure_data`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | [OptionalNullable[models.ThreeDSecureData]](../../models/threedsecuredata.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Pass through 3-D Secure data to support external 3-D Secure authorisation. If using an external 3-D Secure provider, you should not pass a `redirect_url` in the `payment_method` object for a transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `metadata`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Dict[str, *str*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Any additional information about the transaction that you would like to store as key-value pairs. This data is passed to payment service providers that support it.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | {<br/>"cohort": "cohort-12345",<br/>"order": "order-12345"<br/>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `is_subsequent_payment`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | *Optional[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Indicates whether the transaction represents a subsequent payment coming from a setup recurring payment. Please note there are some restrictions on how this flag may be used.<br/><br/>The flag can only be `false` (or not set) when the transaction meets one of the following criteria:<br/><br/>* It is not `merchant_initiated`.<br/>* `payment_source` is set to `card_on_file`.<br/><br/>The flag can only be set to `true` when the transaction meets one of the following criteria:<br/>* It is not `merchant_initiated`.<br/>* `payment_source` is set to `recurring` or `installment` and `merchant_initiated` is set to `true`.<br/>* `payment_source` is set to `card_on_file`. | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `merchant_initiated`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | *Optional[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Indicates whether the transaction was initiated by the merchant (true) or customer (false).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `payment_source`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | [Optional[models.TransactionPaymentSource]](../../models/transactionpaymentsource.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | The way payment method information made it to this transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `airline`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | [OptionalNullable[models.Airline]](../../models/airline.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | The airline addendum data which describes the airline booking associated with this transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `cart_items`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | List[[models.CartItem](../../models/cartitem.md)]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | An array of cart items that represents the line items of a transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `statement_descriptor`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | [OptionalNullable[models.StatementDescriptor]](../../models/statementdescriptor.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Details about the payment and the merchant which may end up on the (bank) statement for the payment.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `previous_scheme_transaction_id`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | A scheme's transaction identifier to use in connecting a merchant initiated transaction to a previous customer initiated transaction. If not provided, and a qualifying customer initiated transaction has been previously made with the stored payment method, then Gr4vy will populate this value with the identifier returned for that transaction. This field is also know as the Visa Transaction Identifier, or Mastercard Trace ID.                                                                                                                                                                                                            | 123456789012345                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `browser_info`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | [OptionalNullable[models.BrowserInfo]](../../models/browserinfo.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Information about the browser used by the buyer. This can be used by anti-fraud services.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `shipping_details_id`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | The unique identifier of a set of shipping details stored for the buyer. If provided, the created transaction will include a copy of the details at the point of transaction creation; i.e. it will not be affected by later changes to the detail in the database.                                                                                                                                                                                                                                                                                                                                                                                   | bf8c36ad-02d9-4904-b0f9-a230b149e341                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `connection_options`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Dict[str, Dict[str, *Any*]]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Allows for passing optional configuration per connection to take advantage of connection specific features. When provided, the data is only passed to the target connection type to prevent sharing configuration across connections. Please note that each of the keys this object are in kebab-case, for example `cybersource-anti-fraud` as they represent the ID of the connector. All the other keys will be snake case, for example `merchant_defined_data` or camel case to match an external API that the connector uses.                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `async_capture`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *Optional[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Whether to capture the transaction asynchronously.<br/><br/>- When `async_capture` is `false` (default), the transaction is captured in the same request.<br/>- When `async_capture` is `true`, the transaction is automatically captured at a later time.<br/><br/>Redirect transactions are not affected by this flag. This flag can only be set to `true` when `intent` is set to `capture`.                                                                                                                                                                                                                                                       | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `anti_fraud_fingerprint`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | This field represents the fingerprint data to be passed to the active anti-fraud service.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | yGeBAFYgFmM=                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `payment_service_id`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | The unique identifier of an existing payment service. When provided, the created transaction will be processed by the given payment service and any routing rules will be skipped.                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | fffd152a-9532-4087-9a4f-de58754210f0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `account_funding_transaction`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | *Optional[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Marks the transaction as an AFT. Requires the payment service to support this feature, and might `recipient` and `buyer` data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `allow_partial_authorization`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | *Optional[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Defines if the transaction will allow for a partial authorization.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `recipient`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | [OptionalNullable[models.Recipient]](../../models/recipient.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | The recipient of any account to account funding. For use with AFTs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `retries`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Configuration to override the default retry behavior of the client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

### Response

**[models.Transaction](../../models/transaction.md)**

### Errors

| Error Type                 | Status Code                | Content Type               |
| -------------------------- | -------------------------- | -------------------------- |
| errors.Error400            | 400                        | application/json           |
| errors.Error401            | 401                        | application/json           |
| errors.Error403            | 403                        | application/json           |
| errors.Error404            | 404                        | application/json           |
| errors.Error405            | 405                        | application/json           |
| errors.Error409            | 409                        | application/json           |
| errors.HTTPValidationError | 422                        | application/json           |
| errors.Error425            | 425                        | application/json           |
| errors.Error429            | 429                        | application/json           |
| errors.Error500            | 500                        | application/json           |
| errors.Error502            | 502                        | application/json           |
| errors.Error504            | 504                        | application/json           |
| errors.APIError            | 4XX, 5XX                   | \*/\*                      |

## get

Fetch a single transaction by its ID.

### Example Usage

```python
from gr4vy import Gr4vy
import os


with Gr4vy(
    bearer_auth=os.getenv("GR4VY_BEARER_AUTH", ""),
    merchant_account_id="default",
) as g_client:

    res = g_client.transactions.get(transaction_id="7099948d-7286-47e4-aad8-b68f7eb44591", merchant_account_id="default")

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                           | Type                                                                | Required                                                            | Description                                                         | Example                                                             |
| ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- |
| `transaction_id`                                                    | *str*                                                               | :heavy_check_mark:                                                  | N/A                                                                 | 7099948d-7286-47e4-aad8-b68f7eb44591                                |
| `merchant_account_id`                                               | *Optional[str]*                                                     | :heavy_minus_sign:                                                  | The ID of the merchant account to use for this request.             | default                                                             |
| `retries`                                                           | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)    | :heavy_minus_sign:                                                  | Configuration to override the default retry behavior of the client. |                                                                     |

### Response

**[models.Transaction](../../models/transaction.md)**

### Errors

| Error Type                 | Status Code                | Content Type               |
| -------------------------- | -------------------------- | -------------------------- |
| errors.Error400            | 400                        | application/json           |
| errors.Error401            | 401                        | application/json           |
| errors.Error403            | 403                        | application/json           |
| errors.Error404            | 404                        | application/json           |
| errors.Error405            | 405                        | application/json           |
| errors.Error409            | 409                        | application/json           |
| errors.HTTPValidationError | 422                        | application/json           |
| errors.Error425            | 425                        | application/json           |
| errors.Error429            | 429                        | application/json           |
| errors.Error500            | 500                        | application/json           |
| errors.Error502            | 502                        | application/json           |
| errors.Error504            | 504                        | application/json           |
| errors.APIError            | 4XX, 5XX                   | \*/\*                      |

## capture

Capture a previously authorized transaction.

### Example Usage

```python
from datetime import date
from gr4vy import Gr4vy
from gr4vy.utils import parse_datetime
import os


with Gr4vy(
    bearer_auth=os.getenv("GR4VY_BEARER_AUTH", ""),
    merchant_account_id="default",
) as g_client:

    res = g_client.transactions.capture(transaction_id="7099948d-7286-47e4-aad8-b68f7eb44591", merchant_account_id="default", amount=1299, airline={
        "booking_code": "X36Q9C",
        "is_cardholder_traveling": True,
        "issued_address": "123 Broadway, New York",
        "issued_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
        "issuing_carrier_code": "649",
        "issuing_carrier_name": "Air Transat A.T. Inc",
        "issuing_iata_designator": "TS",
        "issuing_icao_code": "TSC",
        "legs": [
            {
                "arrival_airport": "LAX",
                "arrival_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
                "arrival_city": "Los Angeles",
                "arrival_country": "US",
                "carrier_code": "649",
                "carrier_name": "Air Transat A.T. Inc",
                "iata_designator": "TS",
                "icao_code": "TSC",
                "coupon_number": "15885566",
                "departure_airport": "LHR",
                "departure_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
                "departure_city": "London",
                "departure_country": "GB",
                "departure_tax_amount": 1200,
                "fare_amount": 129900,
                "fare_basis_code": "FY",
                "fee_amount": 1200,
                "flight_class": "E",
                "flight_number": "101",
                "route_type": "round_trip",
                "seat_class": "F",
                "stop_over": False,
                "tax_amount": 1200,
            },
            {
                "arrival_airport": "LAX",
                "arrival_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
                "arrival_city": "Los Angeles",
                "arrival_country": "US",
                "carrier_code": "649",
                "carrier_name": "Air Transat A.T. Inc",
                "iata_designator": "TS",
                "icao_code": "TSC",
                "coupon_number": "15885566",
                "departure_airport": "LHR",
                "departure_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
                "departure_city": "London",
                "departure_country": "GB",
                "departure_tax_amount": 1200,
                "fare_amount": 129900,
                "fare_basis_code": "FY",
                "fee_amount": 1200,
                "flight_class": "E",
                "flight_number": "101",
                "route_type": "round_trip",
                "seat_class": "F",
                "stop_over": False,
                "tax_amount": 1200,
            },
            {
                "arrival_airport": "LAX",
                "arrival_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
                "arrival_city": "Los Angeles",
                "arrival_country": "US",
                "carrier_code": "649",
                "carrier_name": "Air Transat A.T. Inc",
                "iata_designator": "TS",
                "icao_code": "TSC",
                "coupon_number": "15885566",
                "departure_airport": "LHR",
                "departure_at": parse_datetime("2013-07-16T19:23:00.000+00:00"),
                "departure_city": "London",
                "departure_country": "GB",
                "departure_tax_amount": 1200,
                "fare_amount": 129900,
                "fare_basis_code": "FY",
                "fee_amount": 1200,
                "flight_class": "E",
                "flight_number": "101",
                "route_type": "round_trip",
                "seat_class": "F",
                "stop_over": False,
                "tax_amount": 1200,
            },
        ],
        "passenger_name_record": "JOHN L",
        "passengers": [
            {
                "age_group": "adult",
                "date_of_birth": date.fromisoformat("2013-07-16"),
                "email_address": "john@example.com",
                "first_name": "John",
                "frequent_flyer_number": "15885566",
                "last_name": "Luhn",
                "passport_number": "11117700225",
                "phone_number": "+1234567890",
                "ticket_number": "BA1236699999",
                "title": "Mr.",
                "country_code": "US",
            },
            {
                "age_group": "adult",
                "date_of_birth": date.fromisoformat("2013-07-16"),
                "email_address": "john@example.com",
                "first_name": "John",
                "frequent_flyer_number": "15885566",
                "last_name": "Luhn",
                "passport_number": "11117700225",
                "phone_number": "+1234567890",
                "ticket_number": "BA1236699999",
                "title": "Mr.",
                "country_code": "US",
            },
        ],
        "reservation_system": "Amadeus",
        "restricted_ticket": False,
        "ticket_delivery_method": "electronic",
        "ticket_number": "123-1234-151555",
        "travel_agency_code": "12345",
        "travel_agency_invoice_number": "EG15555155",
        "travel_agency_name": "ACME Agency",
        "travel_agency_plan_name": "B733",
    })

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                                                                                    | Type                                                                                                                         | Required                                                                                                                     | Description                                                                                                                  | Example                                                                                                                      |
| ---------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| `transaction_id`                                                                                                             | *str*                                                                                                                        | :heavy_check_mark:                                                                                                           | N/A                                                                                                                          | 7099948d-7286-47e4-aad8-b68f7eb44591                                                                                         |
| `merchant_account_id`                                                                                                        | *Optional[str]*                                                                                                              | :heavy_minus_sign:                                                                                                           | The ID of the merchant account to use for this request.                                                                      | default                                                                                                                      |
| `amount`                                                                                                                     | *OptionalNullable[int]*                                                                                                      | :heavy_minus_sign:                                                                                                           | The amount to capture. This normally needs to be equal or less than the authorized amount, unless over-capture is available. | 1299                                                                                                                         |
| `airline`                                                                                                                    | [OptionalNullable[models.Airline]](../../models/airline.md)                                                                  | :heavy_minus_sign:                                                                                                           | The airline data to submit to the payment service during the capture call.                                                   |                                                                                                                              |
| `retries`                                                                                                                    | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                             | :heavy_minus_sign:                                                                                                           | Configuration to override the default retry behavior of the client.                                                          |                                                                                                                              |

### Response

**[models.Transaction](../../models/transaction.md)**

### Errors

| Error Type                 | Status Code                | Content Type               |
| -------------------------- | -------------------------- | -------------------------- |
| errors.Error400            | 400                        | application/json           |
| errors.Error401            | 401                        | application/json           |
| errors.Error403            | 403                        | application/json           |
| errors.Error404            | 404                        | application/json           |
| errors.Error405            | 405                        | application/json           |
| errors.Error409            | 409                        | application/json           |
| errors.HTTPValidationError | 422                        | application/json           |
| errors.Error425            | 425                        | application/json           |
| errors.Error429            | 429                        | application/json           |
| errors.Error500            | 500                        | application/json           |
| errors.Error502            | 502                        | application/json           |
| errors.Error504            | 504                        | application/json           |
| errors.APIError            | 4XX, 5XX                   | \*/\*                      |

## void

Void a previously authorized transaction.

### Example Usage

```python
from gr4vy import Gr4vy
import os


with Gr4vy(
    bearer_auth=os.getenv("GR4VY_BEARER_AUTH", ""),
    merchant_account_id="default",
) as g_client:

    res = g_client.transactions.void(transaction_id="7099948d-7286-47e4-aad8-b68f7eb44591", merchant_account_id="default")

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                           | Type                                                                | Required                                                            | Description                                                         | Example                                                             |
| ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- |
| `transaction_id`                                                    | *str*                                                               | :heavy_check_mark:                                                  | N/A                                                                 | 7099948d-7286-47e4-aad8-b68f7eb44591                                |
| `merchant_account_id`                                               | *Optional[str]*                                                     | :heavy_minus_sign:                                                  | The ID of the merchant account to use for this request.             | default                                                             |
| `retries`                                                           | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)    | :heavy_minus_sign:                                                  | Configuration to override the default retry behavior of the client. |                                                                     |

### Response

**[models.Transaction](../../models/transaction.md)**

### Errors

| Error Type                 | Status Code                | Content Type               |
| -------------------------- | -------------------------- | -------------------------- |
| errors.Error400            | 400                        | application/json           |
| errors.Error401            | 401                        | application/json           |
| errors.Error403            | 403                        | application/json           |
| errors.Error404            | 404                        | application/json           |
| errors.Error405            | 405                        | application/json           |
| errors.Error409            | 409                        | application/json           |
| errors.HTTPValidationError | 422                        | application/json           |
| errors.Error425            | 425                        | application/json           |
| errors.Error429            | 429                        | application/json           |
| errors.Error500            | 500                        | application/json           |
| errors.Error502            | 502                        | application/json           |
| errors.Error504            | 504                        | application/json           |
| errors.APIError            | 4XX, 5XX                   | \*/\*                      |

## sync

Fetch the latest status for a transaction.

### Example Usage

```python
from gr4vy import Gr4vy
import os


with Gr4vy(
    bearer_auth=os.getenv("GR4VY_BEARER_AUTH", ""),
    merchant_account_id="default",
) as g_client:

    res = g_client.transactions.sync(transaction_id="2ee546e0-3b11-478e-afec-fdb362611e22", merchant_account_id="default")

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                           | Type                                                                | Required                                                            | Description                                                         | Example                                                             |
| ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- |
| `transaction_id`                                                    | *str*                                                               | :heavy_check_mark:                                                  | N/A                                                                 |                                                                     |
| `merchant_account_id`                                               | *Optional[str]*                                                     | :heavy_minus_sign:                                                  | The ID of the merchant account to use for this request.             | default                                                             |
| `retries`                                                           | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)    | :heavy_minus_sign:                                                  | Configuration to override the default retry behavior of the client. |                                                                     |

### Response

**[models.Transaction](../../models/transaction.md)**

### Errors

| Error Type                 | Status Code                | Content Type               |
| -------------------------- | -------------------------- | -------------------------- |
| errors.Error400            | 400                        | application/json           |
| errors.Error401            | 401                        | application/json           |
| errors.Error403            | 403                        | application/json           |
| errors.Error404            | 404                        | application/json           |
| errors.Error405            | 405                        | application/json           |
| errors.Error409            | 409                        | application/json           |
| errors.HTTPValidationError | 422                        | application/json           |
| errors.Error425            | 425                        | application/json           |
| errors.Error429            | 429                        | application/json           |
| errors.Error500            | 500                        | application/json           |
| errors.Error502            | 502                        | application/json           |
| errors.Error504            | 504                        | application/json           |
| errors.APIError            | 4XX, 5XX                   | \*/\*                      |